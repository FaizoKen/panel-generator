import{F as n,u as i,G as c,b as u,r as x,p as h,j as e,M as p,c as m}from"./main-ad831e85.js";import g from"./MessagePreview-c27d2b82.js";import"./index-e4f144c6.js";function b(){const{sharedMessageId:d}=n(),t=i(),{data:s}=c(d||null),o=u(a=>a.create),r=x.useMemo(()=>{if(!s)return null;if(s.success)try{return h(s.data.data)}catch(a){o({type:"error",title:"Failed to parse shared message",message:`${a}`})}else o({title:"Failed to load shared message",message:`${s.error}`,type:"error"});return null},[s]);function l(){r&&(m.setState(r),t("/editor"))}return e.jsx(p,{width:"md",onClose:()=>t("/editor"),children:e.jsxs("div",{className:"flex flex-col overflow-y-hidden",children:[e.jsx("div",{className:"rounded-r-xl bg-dark-4 overflow-y-scroll flex-auto max-h-[300px] sm:max-h-[500px]",children:e.jsx("div",{className:"rounded text-white h-full px-5 py-3",children:r&&e.jsx(g,{msg:r})})}),e.jsxs("div",{className:"flex flex-none justify-end space-x-3 p-3",children:[e.jsx("button",{className:"text-white px-3 py-2 rounded border-2 border-red hover:bg-red",onClick:()=>t("/editor"),children:"Cancel"}),e.jsx("button",{className:"text-white px-3 py-2 rounded border-2 border-green hover:bg-green",onClick:l,children:"Restore"})]})]})})}export{b as default};
